{% extends "base.html" %}
{% block content %}
<div class="dashboard-container">
  <!-- Header -->
  <div class="dashboard-header">
    <h2>👩‍🏫 Teacher Dashboard</h2>
    <button id="theme-toggle" class="btn btn-secondary">🌙 Dark Mode</button>
  </div>

  <!-- Profile Card -->
  <div class="card profile-card">
    <h4>👤 Profile</h4>
    <img src="/static/images/teacher_demo.jpg" alt="Profile Image" class="profile-img">
    <p><b>Name:</b> Sarah Johnson</p>
    <p><b>Email:</b> sarah.johnson@school.edu</p>
    <p><b>Role:</b> Teacher</p>
  </div>

  <!-- Class Overview -->
  <div class="card summary-card">
    <h4>📊 Class Overview</h4>
    <p><b>Total Students:</b> 30</p>
    <p><b>Average Attendance:</b> 87%</p>
    <p><b>Sessions Conducted:</b> 42</p>
  </div>

  <!-- Student Attendance Table -->
  <div class="card attendance-card">
    <h4>📅 Today’s Attendance</h4>
    <table class="table table-bordered">
      <thead>
        <tr><th>Student Name</th><th>Status</th></tr>
      </thead>
      <tbody>
        <tr><td>John Doe</td><td class="present">Present</td></tr>
        <tr><td>Emma Watson</td><td class="absent">Absent</td></tr>
        <tr><td>Michael Brown</td><td class="present">Present</td></tr>
        <tr><td>Ava Taylor</td><td class="present">Present</td></tr>
        <tr><td>Liam Smith</td><td class="absent">Absent</td></tr>
      </tbody>
    </table>
    <button class="btn btn-dark mt-2">⬇️ Download Full Report (CSV)</button>
  </div>

  <!-- Time Table Management -->
  <div class="card timetable-card">
    <h4>📖 Weekly Time Table</h4>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Day</th>
          <th>9:00 - 10:00</th>
          <th>10:00 - 11:00</th>
          <th>11:00 - 12:00</th>
          <th>1:00 - 2:00</th>
          <th>2:00 - 3:00</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><b>Monday</b></td>
          <td>Math</td><td>Physics</td><td>Chemistry</td><td>Computer</td><td>English</td>
        </tr>
        <tr>
          <td><b>Tuesday</b></td>
          <td>Biology</td><td>History</td><td>Math</td><td>Sports</td><td>English</td>
        </tr>
        <tr>
          <td><b>Wednesday</b></td>
          <td>Computer</td><td>Physics</td><td>Chemistry</td><td>English</td><td>Math</td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-primary mt-2">✏️ Edit Time Table</button>
  </div>

  <!-- Notifications -->
  <div class="card notify-card">
    <h4>🔔 Announcements</h4>
    <ul>
      <li>Parent-Teacher Meeting on Oct 5 📅</li>
      <li>Submit internal marks by Oct 10 📝</li>
      <li>Lab exams scheduled from Oct 15 🔬</li>
    </ul>
    <textarea class="form-control mt-2" placeholder="Write a new announcement..."></textarea>
    <button class="btn btn-success mt-2">📢 Post Announcement</button>
  </div>
</div>

<!-- Dashboard Styles -->
<style>
  .dashboard-container {
    padding: 20px;
  }
  .dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  .card {
    background: var(--card-bg);
    color: var(--text-color);
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  .profile-img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 15px;
  }
  .present { color: green; font-weight: bold; }
  .absent { color: red; font-weight: bold; }

  /* Light Theme */
  body.light-mode {
    --bg-color: #f5f5f5;
    --text-color: #222;
    --card-bg: #fff;
  }
  /* Dark Theme */
  body.dark-mode {
    --bg-color: #1e1e1e;
    --text-color: #f5f5f5;
    --card-bg: #2c2c2c;
  }
  body {
    background-color: var(--bg-color);
    color: var(--text-color);
    transition: all 0.3s ease;
  }
</style>

<!-- Theme Toggle Script -->
<script>
  const toggleBtn = document.getElementById("theme-toggle");
  const body = document.body;

  // Default to light mode
  body.classList.add("light-mode");

  toggleBtn.addEventListener("click", () => {
    if (body.classList.contains("light-mode")) {
      body.classList.replace("light-mode", "dark-mode");
      toggleBtn.textContent = "☀️ Light Mode";
    } else {
      body.classList.replace("dark-mode", "light-mode");
      toggleBtn.textContent = "🌙 Dark Mode";
    }
  });
</script>
{% endblock %}
